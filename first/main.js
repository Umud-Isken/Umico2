let arr = [
    {
        img: "https://strgimgr.umico.az/sized/280/523480-7fbadbad959390154a590172d955ef18.jpg",
        price: "1.249.00 man",
        name: "Samsung UE65CU7100UXRU",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/345664-8f0af611cb1dfc48abec0c2bcea2c42d.jpg",
        price: "700.00 man",
        name: "Oyun üçün sükan Logitech Gaming G920 XBOX (941-000123)",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/731557-fa974ca3d79202c97578c30d37e472fe.jpg",
        price: "511.00 man",
        name: "Xiomi Redmi Note 13 Pro",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/752763-0b00410b1e758b94670cbfe103452d9e.jpg",
        price: "811.00 man",
        name: "Fen Dyson Supersonic HD15 Blue Blush",
        p: "Umud Shop"
    },

    {
        img: "https://strgimgr.umico.az/sized/280/492472-0c271a86685b97f95f836318cc8fb82d.jpg",
        price: "66.99 man",
        name: "Ventilyator Hoffman OYD-50-YK",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/636001-21b3182051a8dff73e8a25cdfa033782.jpg",
        price: "859.00 man",
        name: "Televizor LG 50UR78006LK",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/531218-0830b362f517433eefcabf4e7abdf9cf.jpg",
        price: "888.00 man",
        name: "Televizor Samsung UE43CU8500UXRU",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/724484-92b30e3eaf6bc011f9bf9418f207f5e3.jpg",
        price: "365.99 man",
        name: "Smartfon Tecno Spark 20 Pro KJ6 8GB/256GB Moonlit Black",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/647661-e75170139c36be3f63f6f76533dc3777.jpg",
        price: "199.99 man",
        name: "Vertikal tozsoran Bosch BBHF214G",
        p: "Umus Shop"
    },
    {
        img:"https://strgimgr.umico.az/sized/840/653519-2d8b0376e91f1464246b5eaf007d02bd.jpg",
        price: "345.99 man",
        name: "Smartfon Vivo Y33S 4GB/64GB Mirror Black",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/736026-82df0a6fe42c73bb0f85f85684ec7c5f.jpg",
        price: "455.00 man",
        name: "Smartfon Infinix Hot 40 8GB/256GB NFC X6836 Black",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/872580-ae009121d19c80dbaf087cc7ad700411.jpg",
        price: "50.00 man",
        name: "Simli qulaqlıq Onikuma K8 RGB Black",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/472578-09a860c1d22eb4aedb208ea6e7c47740.jpg",
        price: "29.99 man" ,
        name: "Klaviatura Defender Spark GK-300L",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/482177-b58f3b4d635e290011653ad259ee995f.jpg",
        price: "99.00 man" ,
        name: "Noutbuk üçün altlıq N21",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/725921-24a52f73d9274e43fe5be5c2dc34c346.jpg",
        price: "48.50 man" ,
        name: "Klaviatura Shipadoo K620",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/541850-46a5b1d58ad56105dc61f02e4c28eedd.jpg",
        price: "6.00 man" ,
        name: "Bilək espanderı, barmaqları açıq, qara",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/659146-650d2d477940b0fd3d92505d2a052968.jpg",
        price: "10.00 man" ,
        name: "Simsiz qulaqlıq P9 Black",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/655653-d0d68ceddf08fea1de842e2de949c2ba.jpg",
        price: "16.80 man" ,
        name: "Xarici akkumulyator Proda Mini PPL-25 2600mAh White",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/397939-13466643ef690eec523cb5fa54436713.jpg",
        price: "18.48 man" ,
        name: "Simsiz qulaqlıq BTH F9-5 Earbuds",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/681075-c46b4093c6ef5ebe307a6b521015a568.jpg",
        price: "1699.00 man" ,
        name: "Notbuk Acer Aspire 3 (NX.K6SEM.00A)",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/210623-a941a702afc9072def432dbb790265de.jpg",
        price: "14.06 man" ,
        name: "Kompüter siçanı iMice E-1800 2.4G",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/506081-ad66fdfeb7e6c2cb5141fba20cbb2050.jpg",
        price: "15.00 man" ,
        name: "Siçan üçün altlıq PubG Gaming Battle Grounds, Rəngbərəng",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/840/506083-f07960de33bf3e5a163f8fb1d23da2b5.jpg",
        price: "9.99 man" ,
        name: "Siçan üçün altlıq Razer Goliathus Speed ​​Version Gaming Mouse, Qara",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/462603-44972c82eb115c1698a4e5a1612176fc.jpg",
        price: "23.00 man" ,
        name: "Kompüter siçanı Ugreen MU001 Black (90372)",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/506091-86e0d1ea14f87a485d94b98bd93e4a74.jpg",
        price: "38.90 man" ,
        name: "Siçan üçün altlıq Ragzan RZMP002 XXL RGB",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/249430-a67c3646bb2ed842b65ce6c1fb37709c.jpg",
        price: "17.85 man" ,
        name: "Smart saat Smart Bracelet M5 Black",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/764420-68169bee7fd2f632f0b5fbde7b80b3c5.jpg",
        price: "273.00 man" ,
        name: "Televizor Hoffman 32C4000",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/248901-d2b9dc9f18b9a072394ace4fa2bdb242.jpg",
        price: "476.00 man" ,
        name: "Televizor Zimmer ZM-U4399 (4780068459991)",
        p: "Umud Shop"
    },    {
        img: "https://strgimgr.umico.az/sized/280/743887-69ee328fce83dffe17055a8c25684c61.jpg",
        price: "14.99 man" ,
        name: "Avtomobil ayaqaltıları üçün işıqlandırma Atmosphere Lamp",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/397911-bb05bb29419647d5c061438f78b7d558.jpg",
        price: "79.00 man" ,
        name: "Noutbuk üçün altlıq N19D",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/496445-33396968645344a5cd7b465804acbf1f.jpg",
        price: "90.00 man" ,
        name: "Soyuducu ilə noutbuk üçün altlıq Havit HV-F2072",
        p: "Umud Shop"
    },
    {
        img: "https://strgimgr.umico.az/sized/280/862877-cf143e0683ec90fd70a2a1e822592d9d.jpg",
        price: "79.00 man" ,
        name: "Ofis kreslosu Krauli MYK03398 84/94x58 sm",
        p: "Umud Shop"
    }
]

let basket = JSON.parse(localStorage.getItem("myBasket")) || []

document.getElementById("zakazbtn").addEventListener("click", function(){
    window.location.href = "../basket/index.html"
})


let cartCount = 0

let container = document.querySelector(".container2")

let searchBtn = document.querySelector("#btn")

arr.forEach((novost) => {
    let card = document.createElement("div")
    card.className = "card"

    let Newcard = `
   
    
            <img src="${novost.img}" alt="">
            <h3 style = "color: red">${novost.price}</h3>
            <p>${novost.name}</p>
            <p>Satici: ${novost.p}</p>
            <button class="demobtn">Bascet</button>

        
    `

    card.innerHTML += Newcard
    container.appendChild(card)

    card.querySelector(".demobtn").addEventListener("click", function() {
        cartCount++
        document.getElementById("cart-count").textContent = cartCount
    })
})

searchBtn.addEventListener("click", function(){
    let inp = document.querySelector(".inp").value.toLowerCase(); 
    let filtered = arr.filter((novost) => {
        return novost.name.toLowerCase().includes(inp)
    });

    container.innerHTML = "";

    filtered.forEach((item) => {
        let searchedCard = `
            <div class="card">
                <img src="${item.img}" alt="">
                <h3>${item.price}</h3>
                <p>${item.name}</p>
                <p>Seller: ${item.p}</p>
                <button class="demobtn">Bascet</button>
            </div>
        `;
        container.innerHTML += searchedCard;
    })


})

let demobtn = document.querySelectorAll(".demobtn")

demobtn.forEach(btn => {
    btn.addEventListener("click", function(){
        let productelement = btn.parentElement
        
        let name = productelement.querySelector("p:nth-of-type(1)").textContent;
        let p = productelement.querySelector("p:nth-of-type(2)").textContent;
        let price = productelement.querySelector("h3:nth-of-type(1)").textContent;
        let image = productelement.querySelector("img").src

        let product = {
            nameOfproduct: name,
            priceOfDroduct:p,
            price:price,
            image:image
        }

        basket.push(product)
        localStorage.setItem("myBasket", JSON.stringify(basket))
        console.log(basket)
    })
})